{% extends "layouts/page.njk" %}

{# Nested Components ------------------------------------------------------------------------------------------------------------------- #}

{% from "components/markdown.njk" import markdown %}

{# Values ------------------------------------------------------------------------------------------------------------------------------ #}

{% set cta = data.cta %}
{% set showDivider = true %}

{# ------------------------------------------------------------------------------------------------------------------------------------- #}

{% block pageContent %}
    {% call section({padding: "lines"}, {class:""}) %}
        {% call container(props={size: "full", type: "cols-2"}, attrs={class:"relative grid-flow-dense"}) %}

            {# content #}
            <div class="flex flex-col gap-12 py-16 px-site-inline w-full max-w-content place-self-center {% if colReverse %}xl:col-2{% endif %}">
                {{ markdown({content: data.body, transform: true}, attrs={class:"w-full"}) }}
                {% if cta %}<div class="hidden xl:flex flex-col">{{ button(props=cta.props,attrs=cta.attrs) }}</div>{% endif %}
            </div>

            {# panel #}
            <div class="xl:max-h-dvh--navbar transition-all duration-600 xl:sticky top-navbar-height flex shrink-0 flex-col {% if colReverse %}xl:col-1{% endif %}">
            {{ divider({direction:"horizontal"},{class:"xl:hidden block"}) }}
                <div class="grow bg-neutral-light backdrop-blur-base border-neutral-lighter py-site-inline px-site-inline flex flex-col items-center h-full">
                    {% block panelContent %}{% endblock %}
                </div>
            </div>
            {{ divider({direction:"horizontal"},{class:"xl:hidden block"}) }}
            {{ divider({direction:"vertical"},{class:"hidden xl:block absolute top-0 left-1/2 h-full"}) }}
            {% if cta %}
                <div class="lg:hidden bg-neutral-light backdrop-blur-base border-neutral-lighter py-site-inline px-site-inline flex flex-col">
                    {{ button(props=cta.props,attrs=cta.attrs) }}
                </div>
            {% endif %}
        {% endcall %}
    {% endcall %}
{% endblock %}
